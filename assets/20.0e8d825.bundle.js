"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[20],{259(i,c,a){a.r(c),a.d(c,{default:()=>aw});var j,d={};a.r(d),a.d(d,{arc:()=>N,colors:()=>P,curve:()=>K,d3DnD:()=>S,d3Select:()=>W,d3Zoom:()=>T,getPointsCenter:()=>I,getZoom:()=>U,hArea:()=>L,handleGetD3:()=>E,line:()=>J,pie:()=>M,scaleBand:()=>Q,scaleLinear:()=>R,stack:()=>O,toZoomTransform:()=>V});var k=a(2),l=a(26),m=a(23),n=a(266),o=a(267),p=a(269),q=a(16),r=a(17),s=a(260),t=a(272),b=a(1),u=a(4),v=a(48),w=a(10),x=a(6),y=a(21),z=a(8),e=a(262),A=a(7),B=Array.isArray;let C=function a(){var b=this;(0,n.Z)(this,a),(0,s.Z)(this,"max",null),(0,s.Z)(this,"min",null),(0,s.Z)(this,"process",function(a){return function(c){if(!B(c)||!c.length)return b;"function"!=typeof a&&(a=function(a){return a});var d=c.concat([]);if(!b.max&&!b.min){var e=a(d.shift());b.max=e,b.min=e}return d.forEach(function(c){!isNaN(c=a(c))&&(c>b.max?b.max=c:c<b.min&&(b.min=c))}),b}}),(0,s.Z)(this,"toArray",function(){return[b.min,b.max].filter(function(a){return null!==a})})};var D={curveCatmullRom:null,curveBasis:null,curveMonotoneX:null,line:null,pie:null,arc:null,area:null,stack:null,scaleLinear:null,scaleBand:null,scaleOrdinal:null,stackOrderNone:null,stackOffsetNone:null,drag:null,select:null,zoom:null,zoomTransform:null,zoomIdentity:null,schemeAccent:null,schemeBlues:null,schemeBrBG:null,schemeBuGn:null,schemeBuPu:null,schemeCategory10:null,schemeDark2:null,schemeGnBu:null,schemeGreens:null,schemeGreys:null,schemeOrRd:null,schemeOranges:null,schemePRGn:null,schemePaired:null,schemePastel1:null,schemePastel2:null,schemePiYG:null,schemePuBu:null,schemePuBuGn:null,schemePuOr:null,schemePuRd:null,schemePurples:null,schemeRdBu:null,schemeRdGy:null,schemeRdPu:null,schemeRdYlBu:null,schemeRdYlGn:null,schemeReds:null,schemeSet1:null,schemeSet2:null,schemeSet3:null,schemeSpectral:null,schemeTableau10:null,schemeYlGn:null,schemeYlGnBu:null,schemeYlOrBr:null,schemeYlOrRd:null},E=function(d){for(var a=(0,x.tW)(D),b=a.length;b--;){var c=a[b];D[c]=d[c]}},F=function(a,b){return a&&a.type?a.type:b||D.curveCatmullRom.alpha(.5)},G=function(a){return(a||{}).x},H=function(a){return(a||{}).y},I=function(e,a,b){a=a||G,b=b||H;var c=new C().process(a)(e),d=new C().process(b)(e);return{x:(c.max-c.min)/2+c.min,y:(d.max-d.min)/2+d.min}},J=(0,e.Z)(function(e,h,f,a,b){a=a||G,b=b||H;var c,d=[e,h],g=D.line().x(a).y(b);return f?(g=g.curve(F(f,D.curveBasis)),c=f.center||{x:I(d,a,b).x,y:e.y},d=[e,c,h]):c=I(d,a,b),{center:c,d:g(d)}}),K=function(c,a,b,d,e){return a=a||G,b=b||H,D.line().curve(F()).x(function(c){var b=d.scaler(a(c));return d.length&&(b+=d.length),b}).y(function(c){var a=e.scaler(b(c));return e.length&&(a+=e.length),a})(c)},L=(0,e.Z)(function(f,a,b,c,e){a=a||G,b||(b=function(a){return a.y0}),c||(c=function(a){return a.y1});var d=D.area().x(a).y0(b).y1(c);return e&&(d=d.curve(F(e,D.curveMonotoneX))),d(f)}),M=function(b,c,d,a){a||(a=function(a){return a.value});var e=D.pie().value(a)(b);return N(e,c,d)},N=function(c,a,b,f){var g=D.arc();a||(a=0),b||(b=a?2*a:50);var h=P(),d={outerRadius:b,innerRadius:a},e=c.map(function(a){var b=(0,k.Z)((0,k.Z)({},a),d);return f&&(g=g.cornerRadius(f)),a.path=g(b),a.centroid=g.centroid(b),a.color=h(a.index),a});return(0,k.Z)({items:e},d)},O=function(b,a){return a||(a=(0,x.tW)(b[0])),D.stack().keys(a).order(D.stackOrderNone).offset(D.stackOffsetNone)(b)},P=function(a){var b="schemeCategory10";return a||(a=b),D.scaleOrdinal((0,A.ZP)(D,[a],b))},Q=function(j,k,l,f){var d=arguments.length>4&& void 0!==arguments[4]?arguments[4]:10;f||(f=function(a){return a.label});var e={},b=D.scaleBand().range([k,l]).paddingInner(.05).align(.1).domain(j.map(function(b){var a=f(b);return e[a]=null,a})),g=b.bandwidth(),p=Math.round(g/2),m=(0,x.tW)(e),a=m;if(d&&a.length>d){for(var n,h=[],i=Math.round(a.length/d),c=0,o=a.length;c<o;c+=i)h.push((n=a.slice(c,c+i)).pop());a=h,e={}}return a.forEach(function(a){var c=b(a);e[a]={start:c,value:c+p}}),b.invertIndex=function(a){var c;return Math.floor(a/b.step())},b.invert=function(a){return m[b.invertIndex(a)]},{scaler:b,list:e,length:g}},R=function(c,d,e,f,g,h){var a=new C;a.process(f)(c),a.process()(h);var b=D.scaleLinear().rangeRound([d,e]).domain(a.toArray()).nice(),i=b.ticks(g),j={};return i.forEach(function(a){return j[a]={value:b(a)}}),{scaler:b,list:j}},S=function(b){var i=b.el,c=b.container,d=b.touchable,e=b.start,f=b.end,g=b.drag,h=b.subject,a=D.drag();c&&(a=a.container(c)),d&&(a=a.touchable(d)),e&&(a=a.on("start",e)),f&&(a=a.on("end",f)),g&&(a=a.on("drag",g)),h&&(a=a.subject(h)),W(i).call(a)},T=function(a){var d=a.el,e=a.scaleExtent,b=a.callback,c=D.zoom().scaleExtent(e).on("zoom",null==b?null:b);return W(d).call(c),c},U=function(a){return D.zoomTransform(W(a).node())},V=function(a){var b=a.x,c=a.y,d=a.k;return D.zoomIdentity.translate(b,c).scale(d)},W=function(a){return D.select(a)},X=["handleGetD3"],Y=[];let Z=function(f){var e=(0,b.useState)(!!j),a=(0,l.Z)(e,2),c=a[0],g=a[1],h=(0,y.s4)();return(0,b.useEffect)(function(){c&&(0,z.ZP)(f)},[c]),(0,b.useEffect)(function(){var a=function(){j=(0,t.Z)(d,X),E((0,w.win)().d3);for(var a=Y.length;a--;)Y[a]&&Y[a]();Y.splice(0,Y.length)};(0,w.win)().__null||c||(Y.push(function(){h()&&g(!0)}),(0,w.win)().d3?a():!1!==(0,w.win)().d3&&((0,w.win)().d3=!1,(0,v.js)()(a)("https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js")))},[]),[c,j]};var $=a(77),f=function(a){return b.createElement(u.iX,a)};f.defaultProps={atom:"g",ui:!1};let _=f;(function(a){return b.createElement(u.iX,a)}).defaultProps={ui:!1,atom:"path"},b.PureComponent;var g=function(a){return b.createElement(u.iX,a)};g.defaultProps={ui:!1,atom:"svg",width:"100%"};let aa=g;var ab=["start","end","svgLine","curve","onD3Load"];(0,b.forwardRef)(function(c,i){var j=(0,b.useRef)(),w={getCenter:function(){return j.current}};(0,b.useImperativeHandle)(i,function(){return w},[]);var d=c.start,e=c.end,f=c.svgLine,k=c.curve,n=c.onD3Load,o=(0,t.Z)(c,ab),p=Z(n),g=(0,l.Z)(p,2),q=g[0],r=g[1],a={};if(d&&e){if(f)a.x1=d.x,a.y1=d.y,a.x2=e.x,a.y2=e.y;else{if(!q)return null;var h=r.line(d,e,k),s=h.center,v=h.d;a.d=v,j.current=s}}return a.atom=f?"line":"path",b.createElement(u.iX,(0,m.Z)({ui:!1},o,a))}).displayName="Line",b.PureComponent,b.PureComponent;var ac,ad=["parentWidth","alignCenter","x","y"],ae=Object.keys;b.PureComponent;var af=a(25),ag=["keepLastAbsXY","component","style","zoom","refCb","onDragStart","onDrag","onDragEnd","onD3Load"],ah=function(c){var g=Z(c.onD3Load),d=(0,l.Z)(g,2),a=d[0],j=d[1],k=(0,b.useRef)(),m=(0,b.useRef)({}),n=(0,b.useRef)({}),o=(0,b.useRef)(),h=(0,b.useState)(!1),e=(0,l.Z)(h,2),i=e[0],p=e[1];(0,b.useEffect)(function(){n.current=c},[c]);var f={getEl:function(){return o.current},setXY:function(a,b){m.current.absX=a,m.current.absY=b},isDraging:function(){return i}};if(!a)return{isLoad:a,expose:f};var q=function(c){var d,e,f,g,h=n.current,q=h.keepLastAbsXY,r=h.zoom,s=h.onDragStart,t=null!==(d=null===(e=(0,z.ZP)(r))|| void 0===e?void 0:e.k)&& void 0!==d?d:1,u=c.x,v=c.y,w=c.sourceEvent,a=(0,af.lA)(w),i=(0,af.ZP)(o.current),b=i||{},x=b.left,y=b.top;b.w,b.h;var j=0,l=0;q&&(j=(null===(f=m.current)|| void 0===f?void 0:f.absX)||0,l=(null===(g=m.current)|| void 0===g?void 0:g.absY)||0),a.start={absX:j,absY:l,offset:i,fromX:u,fromY:v,elStartX:x,elStartY:y,zoomK:t},k.current=a.start,m.current=a.start,p(!0),(0,z.ZP)(s,[a])},r=function(b){b.x,b.y;var c,d,e=b.dx,f=b.dy,g=b.sourceEvent;if(e||f){var h=n.current,l=h.zoom,o=h.onDrag,i=m.current,p=i.absX,q=i.absY,a=(0,af.lA)(g),j=null!==(c=null===(d=(0,z.ZP)(l))|| void 0===d?void 0:d.k)&& void 0!==c?c:1,r=(0,z.ZP)((0,w.doc)().elementFromPoint,[a.clientX,a.clientY],(0,w.doc)());a.sourceEvent=g,a.destTarget=r,a.absX=p+e/j,a.absY=q+f/j,a.startPoint=k.current,m.current=a,(0,z.ZP)(o,[a])}},s=function(c){var b=c.sourceEvent,a=(0,af.lA)(b),d=(0,af.ZP)(o.current);m.current.offset=d,a.sourceEvent=b,a.last=m.current,a.start=k.current,p(!1),(0,z.ZP)(n.current.onDragEnd,[a])};return{isLoad:a,handleElChange:function(a){return!a||o.current&&o.current.isSameNode(a)||(o.current=a,j.d3DnD({el:a,start:q,drag:r,end:s})),o.current},isDraging:i,expose:f}};(0,b.forwardRef)(function(c,d){var a=ah(c),e=a.isLoad,g=a.handleElChange,f=a.isDraging,h=a.expose;return(0,b.useImperativeHandle)(d,function(){return h},[]),(0,b.useMemo)(function(){if(!e)return null;c.keepLastAbsXY;var b=c.component,h=c.style,i=(c.zoom,c.refCb),a=(c.onDragStart,c.onDrag,c.onDragEnd,c.onD3Load,(0,t.Z)(c,ag)),d=(null==b?void 0:b.props)||{},j=d.style,l=d.refCb;return a.style=(0,k.Z)((0,k.Z)((0,k.Z)((0,k.Z)({},ai.container),f?ai.drag:{}),h),j),i||l?a.refCb=function(a){g(a),(0,z.ZP)(i,[a]),(0,z.ZP)(l,[a])}:a.onGetEl=g,(0,u.J_)(b)(a)},[e,c,f])}).displayName="DragAndDrop";var ai={container:{cursor:"grab",pointerEvents:"all"},drag:{cursor:"grabbing"}},aj=["onGetEl","onZoom","onD3Load","scaleExtent"],ak=function(a){var n=a.onGetEl,o=a.onZoom,i=a.onD3Load,e=a.scaleExtent,p=void 0===e?[-1,8]:e,j=(0,t.Z)(a,aj),k=Z(i),f=(0,l.Z)(k,2),c=f[0],q=f[1],m=(0,b.useState)(null),g=(0,l.Z)(m,2),d=g[0],r=g[1],s=(0,b.useRef)(),u=(0,b.useRef)(),v=(0,b.useRef)(),w=(0,b.useRef)();(0,b.useEffect)(function(){u.current=d,s.current&&(0,z.ZP)(o,[s.current])},[d]),(0,b.useEffect)(function(){c&&h.enable()},[c]);var h={getTransform:function(){return u.current},setTransform:function(a){return y(a)},getXYK:x,setXYK:function(a){var b,c,d,e,f,g,h=a.x,i=a.y,j=a.k,k=x(),l=k.x,m=k.y,n=k.k;return h=null!==(b=null!==(c=h)&& void 0!==c?c:l)&& void 0!==b?b:0,i=null!==(d=null!==(e=i)&& void 0!==e?e:m)&& void 0!==d?d:0,j=null!==(f=null!==(g=j)&& void 0!==g?g:n)&& void 0!==f?f:1,y(q.toZoomTransform({x:h,y:i,k:j}))},getD3Zoom:function(){return v.current},enable:function(){if(!w.current){var a=(0,z.ZP)(n);v.current=q.d3Zoom({el:a,scaleExtent:p,callback:function(a){return y(a.transform,a)}})}w.current=!0},disable:function(){if(w.current){var a=(0,z.ZP)(n);v.current=q.d3Zoom({el:a,scaleExtent:p,callback:null})}w.current=!1},getEnabled:function(){return w.current}};if(!c)return{isLoad:c,expose:h};var x=function(){var a=u.current||{},b=a.x,c=a.y,d=a.k;return{x:b,y:c,k:d}},y=function(b,a){if(!a){a={transform:b};var c=v.current,d=q.d3Select((0,z.ZP)(n));c&&d&&c.transform(d,b)}a.zoom=h,s.current=a,r(b)};return{isLoad:c,expose:h,others:j,transform:d?d+"":d}};(0,b.forwardRef)(function(c,d){var a=ak(c),e=a.isLoad,h=a.expose,f=a.others,g=a.transform;return((0,b.useImperativeHandle)(d,function(){return h},[]),e)?b.createElement(_,(0,m.Z)({name:"zoom"},f,{transform:g})):null}).displayName="Zoom",a(58);var al=["value","unit","valueTextFill","centroid","groupIndex"],am=["startAngle","endAngle","outerRadius","label","labelTextFill","distance","groupIndex"],an=["groupIndex","outerRadius","labelTextFill","startAngle","endAngle","start","length"],ao=["groupIndex","color","path","sectorBorderColor"],ap=["data","groupIndex"],aq=["data","outerRadius","innerRadius","labelTextFill","valueTextFill","sectorBorderColor","showOuterLabels","showInnerLabels","unit"],ar=function(a){var c=a.value,d=a.unit,e=a.valueTextFill,f=a.centroid,g=a.groupIndex;return(0,t.Z)(a,al),b.createElement(u.iX,{key:g+"-value",atom:"text",transform:"translate(".concat(f.join(","),")"),dy:".35em",style:{shapeRendering:"crispEdges",textAnchor:"middle",fill:e,fontSize:8}},c,d)},as=function(a){var e=a.startAngle,f=a.endAngle,g=a.outerRadius,h=a.label,i=a.labelTextFill,j=a.distance,k=a.groupIndex;(0,t.Z)(a,am);var c=(e+f)/2,d=g+j,l="translate(".concat(d*(1.2*Math.sin(c)),",").concat(-d*Math.cos(c),")");return b.createElement(u.iX,{key:k+"-name",atom:"text",transform:l,dy:".35em",style:{fill:i,textAnchor:"middle",shapeRendering:"crispEdges",fontSize:8}},h)},at=function(a){var e=a.groupIndex,c=a.outerRadius,d=a.labelTextFill,f=a.startAngle,g=a.endAngle,h=a.start,i=a.length;(0,t.Z)(a,an);var j="rotate(".concat((f+g)/2*(180/Math.PI),")");return b.createElement(u.iX,{atom:"line",key:e+"-line",x1:"0",x2:"0",y1:-c-h,y2:-c-i,stroke:d,transform:j,style:{fill:d,strokeWidth:1}})},au=function(c){(0,q.Z)(a,c);var d=(0,r.Z)(a);function a(){var b;(0,n.Z)(this,a);for(var e=arguments.length,f=new Array(e),c=0;c<e;c++)f[c]=arguments[c];return b=d.call.apply(d,[this].concat(f)),(0,s.Z)((0,p.Z)(b),"handleMouseEnter",function(a){b.setState({fill:(0,$.lightenColor)(b.props.color,20)})}),(0,s.Z)((0,p.Z)(b),"handleMouseLeave",function(a){b.setState({fill:b.props.color})}),b}return(0,o.Z)(a,[{key:"render",value:function(){var a=this.props,c=a.groupIndex,d=a.color,e=a.path,f=a.sectorBorderColor,g=(0,t.Z)(a,ao),h=(0,A.ZP)(this,["state","fill"],d);return b.createElement(u.iX,{atom:"g",className:"arc",ui:!1,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,key:c+"-arc"},b.createElement(u.iX,{d:e,fill:h,atom:"path",stroke:f}),b.createElement(ar,g))}}]),a}(b.Component),av=function(a){var e=a.data,c=a.groupIndex,d=(0,t.Z)(a,ap);return[b.createElement(au,(0,m.Z)({groupIndex:c},d)),b.createElement(at,(0,m.Z)({},d,{groupIndex:c,start:1,length:10})),b.createElement(as,(0,m.Z)({},d,{groupIndex:c,label:(0,A.ZP)(e,["label"]),distance:14}))]},h=function(a){var g=a.data,h=a.outerRadius,i=a.innerRadius,r=a.labelTextFill,s=a.valueTextFill,v=a.sectorBorderColor,j=a.showOuterLabels,w=(a.showInnerLabels,a.unit),n=(0,t.Z)(a,aq),o=Z(),f=(0,l.Z)(o,2),p=f[0],q=f[1];if(!p)return null;var c=q.pie(g,i,h),d=2*c.outerRadius,e=2*c.outerRadius;return j&&(d=4*c.outerRadius,e=3.5*c.outerRadius),b.createElement(aa,(0,m.Z)({},n,{viewBox:"0 0 ".concat(d," ").concat(e)}),b.createElement(u.iX,{atom:"g",transform:"translate(".concat(d/2,",").concat(e/2,")")},c.items.map(function(a,b){return av((0,k.Z)((0,k.Z)({},a),{},{groupIndex:b,outerRadius:c.outerRadius,labelTextFill:r,valueTextFill:s,sectorBorderColor:v,unit:w}))})))};h.defaultProps={innerRadius:20,labelTextFill:"#000",valueTextFill:"#000",width:"100%",data:[],showInnerLabels:!0,showOuterLabels:!0,sectorBorderColor:"#000",unit:"%"};let aw=h}}])